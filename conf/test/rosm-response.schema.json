{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Digital to ETMP Relationship Display ",
  "description": "Digital to ETMP Relationship Display",
  "type": "object",

  "properties":
  {
    "relationship":
    {
      "type": "array",
      "minItems": 1,
      "items":
      {
        "properties":
        {
          "referenceNumber":
          {
            "type": "string",
            "minLength": 1,
            "maxLength": 15,
            "pattern": "^[a-zA-z0-9]{1,15}$"
          },
          "agentReferenceNumber":
          {
            "type": "string",
            "pattern": "^[A-Z](ARN)[0-9]{7}$"
          },
          "individual":
          {
            "type": "object",
            "properties":
            {
              "firstName":
              {
                "type": "string",
                "minLength": 1,
                "maxLength": 35
              },
              "lastName":
              {
                "type": "string",
                "minLength": 1,
                "maxLength": 35
              }
            },
            "required":
            [
              "firstName",
              "lastName"
            ],
            "additionalProperties": false
          },
          "organisation":
          {
            "type": "object",
            "properties":
            {
              "organisationName":
              {
                "type": "string",
                "minLength": 1,
                "maxLength": 105
              }
            },
            "required":
            [
              "organisationName"
            ],
            "additionalProperties": false
          },
          "dateFrom":
          {
            "type": "string",
            "pattern": "^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$"
          },
          "dateTo":
          {
            "type": "string",
            "pattern": "^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$"
          },
          "contractAccountCategory":
          {
            "type": "string",
            "pattern": "^\\S{2}$"
          },
          "activity":
          {
            "type": "string",
            "pattern": "^\\d{2}$"
          },
          "relationshipType":
          {
            "type": "string",
            "pattern": "^\\S{4}$",
            "description": "Relationship Type will be entered in this field. For Example: ZA01 Regular Agent, ZA02 Fiscal Agent"
          },
          "authProfile":
          {
            "type": "string",
            "description": "8 character Authorization Profile will be provided by agent services. Mandatory if the REGIME is VATC and other future Regimes For Example: ALL0000 1) Agent-Full Access CORR000 1) Agent-Correspondence EDIT000 1) Agent-Edit FILE0001) Agent-FileOnly FILE000 2) Agent-File FILE000 3) Agent-File and Edit FILE000 4) Agent-File and Correspondence VIEW0001 1) Agent-View"
          ,"pattern": "^\\S{8}$"
          }
        },
        "oneOf":
        [
          {
            "type": "object",
            "required":
            [
              "referenceNumber",
              "agentReferenceNumber",
              "individual",
              "dateFrom",
              "dateTo",
              "contractAccountCategory"
            ]
          },
          {
            "type": "object",
            "required":
            [
              "referenceNumber",
              "agentReferenceNumber",
              "organisation",
              "dateFrom",
              "dateTo",
              "contractAccountCategory"
            ]
          }
        ],
        "additionalProperties": false
      }
    }
  }

}